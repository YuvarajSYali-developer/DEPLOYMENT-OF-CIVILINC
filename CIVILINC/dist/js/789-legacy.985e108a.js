"use strict";(self["webpackChunkcivilinc"]=self["webpackChunkcivilinc"]||[]).push([[789],{906:function(t,e,a){a(7495);var n=a(6518),i=a(9565),s=a(4901),r=a(8551),o=a(655),l=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),c=/./.test;n({target:"RegExp",proto:!0,forced:!l},{test:function(t){var e=r(this),a=o(t),n=e.exec;if(!s(n))return i(c,e,a);var l=i(n,e,a);return null!==l&&(r(l),!0)}})},1034:function(t,e,a){var n=a(9565),i=a(9297),s=a(1625),r=a(7979),o=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in o||i(t,"flags")||!s(o,t)?e:n(r,t)}},1701:function(t,e,a){var n=a(6518),i=a(9565),s=a(9306),r=a(8551),o=a(1767),l=a(9462),c=a(6319),u=a(9539),d=a(4549),p=a(6395),v=!p&&d("map",TypeError),f=l((function(){var t=this.iterator,e=r(i(this.next,t)),a=this.done=!!e.done;if(!a)return c(t,this.mapper,[e.value,this.counter++],!0)}));n({target:"Iterator",proto:!0,real:!0,forced:p||v},{map:function(t){r(this);try{s(t)}catch(e){u(this,"throw",e)}return v?i(v,this,t):new f(o(this),{mapper:t})}})},2062:function(t,e,a){var n=a(6518),i=a(9213).map,s=a(597),r=s("map");n({target:"Array",proto:!0,forced:!r},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},3418:function(t,e,a){var n=a(6518),i=a(7916),s=a(4428),r=!s((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:r},{from:i})},3635:function(t,e,a){var n=a(9039),i=a(2195),s=i.RegExp;t.exports=n((function(){var t=s(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))},5492:function(t,e,a){function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=Array(e);a<e;a++)n[a]=t[a];return n}function i(t){if(Array.isArray(t))return n(t)}a.d(e,{A:function(){return l}});a(2675),a(9463),a(2259),a(3418),a(6099),a(7764),a(2953);function s(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}a(4782),a(2010),a(7495),a(906),a(8781);function r(t,e){if(t){if("string"==typeof t)return n(t,e);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(t,e):void 0}}a(6280);function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return i(t)||s(t)||r(t)||o()}},6789:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});a(2008),a(2062),a(2010),a(8111),a(1701),a(6099);var n=function(){var t,e,a=this,n=a._self._c;return n("div",{staticClass:"page03-container10"},[n("div",{staticClass:"page03-container11"},[a._m(0),n("nav",{staticClass:"sidebar-nav"},[n("router-link",{staticClass:"page03-link1",attrs:{to:"/dashboard"}},[n("i",{staticClass:"fas fa-chart-line"}),a._v(" Dashboard ")]),n("router-link",{staticClass:"page03-link2",attrs:{to:"/projects-complaints"}},[n("i",{staticClass:"fas fa-tasks"}),a._v(" Projects & Complaints ")]),n("router-link",{staticClass:"page03-link3",attrs:{to:"/map-forum"}},[n("i",{staticClass:"fas fa-map-marked-alt"}),a._v(" Map & Forum ")]),n("router-link",{staticClass:"page03-link4",attrs:{to:"/data-reports"}},[n("i",{staticClass:"fas fa-database"}),a._v(" Data & Reports ")]),n("router-link",{staticClass:"page03-link-new",attrs:{to:"/budget-allocation"}},[n("i",{staticClass:"fas fa-chart-pie"}),a._v(" Budget Allocation ")]),n("router-link",{staticClass:"page03-link6",attrs:{to:"/"},on:{click:a.handleLogout}},[n("i",{staticClass:"fas fa-sign-out-alt"}),a._v(" Logout ")])],1)]),n("div",{staticClass:"main-content"},[n("div",{staticClass:"data-reports-container"},[n("div",{staticClass:"tabs-container"},[n("button",{class:["tab-button",{active:"data-exchange"===a.activeTab}],on:{click:function(t){a.activeTab="data-exchange"}}},[n("i",{staticClass:"fas fa-exchange-alt"}),a._v(" Data Exchange ")]),n("button",{class:["tab-button",{active:"analytics"===a.activeTab}],on:{click:function(t){a.activeTab="analytics"}}},[n("i",{staticClass:"fas fa-chart-bar"}),a._v(" Analytics ")])]),n("div",{staticClass:"content-area"},["data-exchange"===a.activeTab?n("div",{staticClass:"tab-content"},[n("div",{staticClass:"data-exchange-grid"},[n("div",{staticClass:"upload-section"},[n("div",{staticClass:"upload-area",class:{dragging:a.isDragging},on:{dragover:function(t){t.preventDefault()},drop:function(t){return t.preventDefault(),a.handleFileDrop.apply(null,arguments)}}},[n("i",{staticClass:"fas fa-cloud-upload-alt"}),n("h3",[a._v("Drag & Drop Files Here")]),n("p",[a._v("or")]),n("button",{staticClass:"upload-button",on:{click:a.triggerFileInput}},[a._v(" Browse Files ")]),n("input",{ref:"fileInput",staticClass:"hidden",attrs:{type:"file",multiple:""},on:{change:a.handleFileSelect}})])]),n("div",{staticClass:"filter-section"},[n("div",{staticClass:"filter-group"},[n("label",[a._v("Department")]),n("select",{directives:[{name:"model",rawName:"v-model",value:a.selectedDepartment,expression:"selectedDepartment"}],staticClass:"filter-select",on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));a.selectedDepartment=t.target.multiple?e:e[0]}}},[n("option",{attrs:{value:""}},[a._v("All Departments")]),a._l(a.departments,(function(t){return n("option",{key:t,domProps:{value:t}},[a._v(" "+a._s(t)+" ")])}))],2)]),n("div",{staticClass:"filter-group"},[n("label",[a._v("File Type")]),n("select",{directives:[{name:"model",rawName:"v-model",value:a.selectedFileType,expression:"selectedFileType"}],staticClass:"filter-select",on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));a.selectedFileType=t.target.multiple?e:e[0]}}},[n("option",{attrs:{value:""}},[a._v("All Types")]),n("option",{attrs:{value:"PDF"}},[a._v("PDF")]),n("option",{attrs:{value:"CSV"}},[a._v("CSV")]),n("option",{attrs:{value:"XLSX"}},[a._v("XLSX")])])]),n("div",{staticClass:"filter-group"},[n("label",[a._v("Date Range")]),n("div",{staticClass:"date-range"},[n("input",{directives:[{name:"model",rawName:"v-model",value:a.dateRange.start,expression:"dateRange.start"}],staticClass:"date-input",attrs:{type:"date"},domProps:{value:a.dateRange.start},on:{input:function(t){t.target.composing||a.$set(a.dateRange,"start",t.target.value)}}}),n("span",[a._v("to")]),n("input",{directives:[{name:"model",rawName:"v-model",value:a.dateRange.end,expression:"dateRange.end"}],staticClass:"date-input",attrs:{type:"date"},domProps:{value:a.dateRange.end},on:{input:function(t){t.target.composing||a.$set(a.dateRange,"end",t.target.value)}}})])])])]),n("div",{staticClass:"files-table-container"},[n("table",{staticClass:"data-table"},[a._m(1),n("tbody",a._l(a.filteredFiles,(function(t){return n("tr",{key:t.id},[n("td",[n("i",{class:a.getFileIcon(t.type)}),a._v(" "+a._s(t.name)+" ")]),n("td",[a._v(a._s(t.type))]),n("td",[a._v(a._s(t.department))]),n("td",[a._v(a._s(t.uploadedBy))]),n("td",[a._v(a._s(a.formatDate(t.uploadDate)))]),n("td",[a._v(a._s(t.viewCount))]),n("td",[a._v(a._s(t.downloadCount))]),n("td",[n("button",{staticClass:"action-icon",on:{click:function(e){return a.viewFile(t)}}},[n("i",{staticClass:"fas fa-eye"})]),n("button",{staticClass:"action-icon",on:{click:function(e){return a.downloadFile(t)}}},[n("i",{staticClass:"fas fa-download"})])])])})),0)])])]):a._e(),"analytics"===a.activeTab?n("div",{staticClass:"tab-content"},[n("div",{staticClass:"analytics-grid"},[n("div",{staticClass:"analytics-filters"},[n("div",{staticClass:"filter-group"},[n("label",[a._v("Department")]),n("select",{directives:[{name:"model",rawName:"v-model",value:a.analyticsDepartment,expression:"analyticsDepartment"}],staticClass:"filter-select",on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));a.analyticsDepartment=t.target.multiple?e:e[0]}}},[n("option",{attrs:{value:""}},[a._v("All Departments")]),a._l(a.departments,(function(t){return n("option",{key:t,domProps:{value:t}},[a._v(" "+a._s(t)+" ")])}))],2)]),n("div",{staticClass:"filter-group"},[n("label",[a._v("Time Range")]),n("select",{directives:[{name:"model",rawName:"v-model",value:a.timeRange,expression:"timeRange"}],staticClass:"filter-select",on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));a.timeRange=t.target.multiple?e:e[0]}}},[n("option",{attrs:{value:"7"}},[a._v("Last 7 Days")]),n("option",{attrs:{value:"30"}},[a._v("Last 30 Days")]),n("option",{attrs:{value:"90"}},[a._v("Last 90 Days")]),n("option",{attrs:{value:"custom"}},[a._v("Custom Range")])])]),"custom"===a.timeRange?n("div",{staticClass:"filter-group"},[n("label",[a._v("Custom Range")]),n("div",{staticClass:"date-range"},[n("input",{directives:[{name:"model",rawName:"v-model",value:a.customDateRange.start,expression:"customDateRange.start"}],staticClass:"date-input",attrs:{type:"date"},domProps:{value:a.customDateRange.start},on:{input:function(t){t.target.composing||a.$set(a.customDateRange,"start",t.target.value)}}}),n("span",[a._v("to")]),n("input",{directives:[{name:"model",rawName:"v-model",value:a.customDateRange.end,expression:"customDateRange.end"}],staticClass:"date-input",attrs:{type:"date"},domProps:{value:a.customDateRange.end},on:{input:function(t){t.target.composing||a.$set(a.customDateRange,"end",t.target.value)}}})])]):a._e()]),a._m(2),n("div",{staticClass:"export-options"},[n("button",{staticClass:"export-button",on:{click:a.generateReport}},[n("i",{staticClass:"fas fa-file-pdf"}),a._v(" Generate Report ")]),n("button",{staticClass:"export-button",on:{click:a.exportToCSV}},[n("i",{staticClass:"fas fa-file-csv"}),a._v(" Export to CSV ")]),n("button",{staticClass:"export-button",on:{click:a.exportToPDF}},[n("i",{staticClass:"fas fa-file-pdf"}),a._v(" Export to PDF ")])])])]):a._e()])])]),a.showPreviewModal?n("div",{staticClass:"modal-overlay"},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("h3",[a._v(a._s(null===(t=a.selectedFile)||void 0===t?void 0:t.name))]),n("button",{staticClass:"close-button",on:{click:function(t){a.showPreviewModal=!1}}},[n("i",{staticClass:"fas fa-times"})])]),n("div",{staticClass:"modal-body"},["PDF"===(null===(e=a.selectedFile)||void 0===e?void 0:e.type)?n("iframe",{staticClass:"preview-frame",attrs:{src:a.previewUrl}}):n("div",{staticClass:"preview-placeholder"},[n("i",{staticClass:"fas fa-file-alt"}),n("p",[a._v("Preview not available for this file type")])])])])]):a._e()])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"sidebar-header"},[e("span",{staticClass:"page03-text10"},[t._v("</> Civilinc")]),e("div",{staticClass:"page03-container12"},[e("img",{staticClass:"page03-image",attrs:{src:"/Shivayogi-pic.jpg",alt:"Profile"}})]),e("span",{staticClass:"page03-text11"},[t._v("Welcome back,")]),e("span",{staticClass:"page03-text12"},[t._v("Dr.Shivayogi.B.Yali")]),e("span",{staticClass:"user-role"},[t._v("Municipal Commissioner")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("File Name")]),e("th",[t._v("Type")]),e("th",[t._v("Department")]),e("th",[t._v("Uploaded By")]),e("th",[t._v("Upload Date")]),e("th",[t._v("Views")]),e("th",[t._v("Downloads")]),e("th",[t._v("Actions")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"charts-grid"},[e("div",{staticClass:"chart-container"},[e("h3",[t._v("Complaints by Ward")]),e("canvas",{attrs:{id:"complaintsChart"}})]),e("div",{staticClass:"chart-container"},[e("h3",[t._v("Budget Usage by Department")]),e("canvas",{attrs:{id:"budgetChart"}})]),e("div",{staticClass:"chart-container"},[e("h3",[t._v("Project Delays Over Time")]),e("canvas",{attrs:{id:"delaysChart"}})]),e("div",{staticClass:"chart-container"},[e("h3",[t._v("Work Completion Rate")]),e("canvas",{attrs:{id:"completionChart"}})])])}],s=a(5492),r=(a(4114),a(2489),a(8508));r.t1.register.apply(r.t1,(0,s.A)(r.$L));var o={name:"DataReportsPage",data:function(){return{activeTab:"data-exchange",isDragging:!1,selectedDepartment:"",selectedFileType:"",dateRange:{start:"",end:""},analyticsDepartment:"",timeRange:"7",customDateRange:{start:"",end:""},showPreviewModal:!1,selectedFile:null,previewUrl:"",departments:["Water Supply","Roads & Infrastructure","Waste Management","Public Health","Urban Planning"],files:[{id:1,name:"Water Supply Report Q1",type:"PDF",department:"Water Supply",uploadedBy:"John Doe",uploadDate:"2024-01-15",viewCount:45,downloadCount:12},{id:2,name:"Road Maintenance Data",type:"CSV",department:"Roads & Infrastructure",uploadedBy:"Jane Smith",uploadDate:"2024-01-14",viewCount:78,downloadCount:34}],charts:{}}},computed:{filteredFiles:function(){var t=this;return this.files.filter((function(e){var a=!t.selectedDepartment||e.department===t.selectedDepartment,n=!t.selectedFileType||e.type===t.selectedFileType,i=!t.dateRange.start||!t.dateRange.end||e.uploadDate>=t.dateRange.start&&e.uploadDate<=t.dateRange.end;return a&&n&&i}))}},methods:{handleLogout:function(){localStorage.removeItem("isAuthenticated"),this.$router.push("/sign-in")},triggerFileInput:function(){this.$refs.fileInput.click()},handleFileSelect:function(t){var e=t.target.files;this.processFiles(e)},handleFileDrop:function(t){this.isDragging=!1;var e=t.dataTransfer.files;this.processFiles(e)},processFiles:function(t){console.log("Processing files:",t)},getFileIcon:function(t){var e={PDF:"fas fa-file-pdf",CSV:"fas fa-file-csv",XLSX:"fas fa-file-excel"};return e[t]||"fas fa-file"},formatDate:function(t){return new Date(t).toLocaleDateString()},viewFile:function(t){console.log("Viewing file:",t)},downloadFile:function(t){console.log("Downloading file:",t)},initializeCharts:function(){var t=this;"analytics"===this.activeTab&&this.$nextTick((function(){t.initializeComplaintsChart(),t.initializeBudgetChart(),t.initializeDelaysChart(),t.initializeCompletionChart()}))},initializeComplaintsChart:function(){var t=document.getElementById("complaintsChart");t&&!this.charts.complaints&&(this.charts.complaints=new r.t1(t,{type:"bar",data:{labels:["Ward 1","Ward 2","Ward 3","Ward 4","Ward 5"],datasets:[{label:"Complaints",data:[12,19,3,5,2],backgroundColor:"rgba(54, 162, 235, 0.5)"}]},options:{responsive:!0,maintainAspectRatio:!1}}))},initializeBudgetChart:function(){var t=document.getElementById("budgetChart");t&&!this.charts.budget&&(this.charts.budget=new r.t1(t,{type:"doughnut",data:{labels:["Water Supply","Roads","Waste Management","Public Health"],datasets:[{data:[30,25,20,25],backgroundColor:["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)"]}]},options:{responsive:!0,maintainAspectRatio:!1}}))},initializeDelaysChart:function(){var t=document.getElementById("delaysChart");t&&!this.charts.delays&&(this.charts.delays=new r.t1(t,{type:"line",data:{labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Project Delays",data:[5,8,12,7,4,6],borderColor:"rgba(255, 99, 132, 1)",tension:.1}]},options:{responsive:!0,maintainAspectRatio:!1}}))},initializeCompletionChart:function(){var t=document.getElementById("completionChart");t&&!this.charts.completion&&(this.charts.completion=new r.t1(t,{type:"bar",data:{labels:["Water Supply","Roads","Waste Management","Public Health"],datasets:[{label:"Completion Rate",data:[85,65,90,75],backgroundColor:"rgba(75, 192, 192, 0.5)"}]},options:{responsive:!0,maintainAspectRatio:!1}}))},generateReport:function(){console.log("Generating report...")},exportToCSV:function(){console.log("Exporting to CSV...")},exportToPDF:function(){console.log("Exporting to PDF...")}},watch:{activeTab:function(t){"analytics"===t&&this.initializeCharts()}},mounted:function(){"analytics"===this.activeTab&&this.initializeCharts()}},l=o,c=a(1656),u=(0,c.A)(l,n,i,!1,null,"18bde210",null),d=u.exports},7323:function(t,e,a){var n=a(9565),i=a(9504),s=a(655),r=a(7979),o=a(8429),l=a(5745),c=a(2360),u=a(1181).get,d=a(3635),p=a(8814),v=l("native-string-replace",String.prototype.replace),f=RegExp.prototype.exec,g=f,m=i("".charAt),h=i("".indexOf),C=i("".replace),y=i("".slice),b=function(){var t=/a/,e=/b*/g;return n(f,t,"a"),n(f,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),_=o.BROKEN_CARET,x=void 0!==/()??/.exec("")[1],D=b||x||_||d||p;D&&(g=function(t){var e,a,i,o,l,d,p,D=this,R=u(D),w=s(t),k=R.raw;if(k)return k.lastIndex=D.lastIndex,e=n(g,k,w),D.lastIndex=k.lastIndex,e;var F=R.groups,I=_&&D.sticky,A=n(r,D),S=D.source,P=0,T=w;if(I&&(A=C(A,"y",""),-1===h(A,"g")&&(A+="g"),T=y(w,D.lastIndex),D.lastIndex>0&&(!D.multiline||D.multiline&&"\n"!==m(w,D.lastIndex-1))&&(S="(?: "+S+")",T=" "+T,P++),a=new RegExp("^(?:"+S+")",A)),x&&(a=new RegExp("^"+S+"$(?!\\s)",A)),b&&(i=D.lastIndex),o=n(f,I?a:D,T),I?o?(o.input=y(o.input,P),o[0]=y(o[0],P),o.index=D.lastIndex,D.lastIndex+=o[0].length):D.lastIndex=0:b&&o&&(D.lastIndex=D.global?o.index+o[0].length:i),x&&o&&o.length>1&&n(v,o[0],a,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(o[l]=void 0)})),o&&F)for(o.groups=d=c(null),l=0;l<F.length;l++)p=F[l],d[p[0]]=o[p[1]];return o}),t.exports=g},7495:function(t,e,a){var n=a(6518),i=a(7323);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},7916:function(t,e,a){var n=a(6080),i=a(9565),s=a(8981),r=a(6319),o=a(4209),l=a(3517),c=a(6198),u=a(4659),d=a(81),p=a(851),v=Array;t.exports=function(t){var e=s(t),a=l(this),f=arguments.length,g=f>1?arguments[1]:void 0,m=void 0!==g;m&&(g=n(g,f>2?arguments[2]:void 0));var h,C,y,b,_,x,D=p(e),R=0;if(!D||this===v&&o(D))for(h=c(e),C=a?new this(h):v(h);h>R;R++)x=m?g(e[R],R):e[R],u(C,R,x);else for(C=a?new this:[],b=d(e,D),_=b.next;!(y=i(_,b)).done;R++)x=m?r(b,g,[y.value,R],!0):y.value,u(C,R,x);return C.length=R,C}},7979:function(t,e,a){var n=a(8551);t.exports=function(){var t=n(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},8429:function(t,e,a){var n=a(9039),i=a(2195),s=i.RegExp,r=n((function(){var t=s("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),o=r||n((function(){return!s("a","y").sticky})),l=r||n((function(){var t=s("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));t.exports={BROKEN_CARET:l,MISSED_STICKY:o,UNSUPPORTED_Y:r}},8781:function(t,e,a){var n=a(350).PROPER,i=a(6840),s=a(8551),r=a(655),o=a(9039),l=a(1034),c="toString",u=RegExp.prototype,d=u[c],p=o((function(){return"/a/b"!==d.call({source:"a",flags:"b"})})),v=n&&d.name!==c;(p||v)&&i(u,c,(function(){var t=s(this),e=r(t.source),a=r(l(t));return"/"+e+"/"+a}),{unsafe:!0})},8814:function(t,e,a){var n=a(9039),i=a(2195),s=i.RegExp;t.exports=n((function(){var t=s("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))}}]);
//# sourceMappingURL=789-legacy.985e108a.js.map