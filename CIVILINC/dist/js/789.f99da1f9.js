"use strict";(self["webpackChunkcivilinc"]=self["webpackChunkcivilinc"]||[]).push([[789],{1701:function(t,a,e){var s=e(6518),i=e(9565),n=e(9306),r=e(8551),l=e(1767),o=e(9462),c=e(6319),d=e(9539),p=e(4549),u=e(6395),v=!u&&p("map",TypeError),g=o((function(){var t=this.iterator,a=r(i(this.next,t)),e=this.done=!!a.done;if(!e)return c(t,this.mapper,[a.value,this.counter++],!0)}));s({target:"Iterator",proto:!0,real:!0,forced:u||v},{map:function(t){r(this);try{n(t)}catch(a){d(this,"throw",a)}return v?i(v,this,t):new g(l(this),{mapper:t})}})},4114:function(t,a,e){var s=e(6518),i=e(8981),n=e(6198),r=e(4527),l=e(6837),o=e(9039),c=o((function(){return 4294967297!==[].push.call({length:4294967296},1)})),d=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},p=c||!d();s({target:"Array",proto:!0,arity:1,forced:p},{push:function(t){var a=i(this),e=n(a),s=arguments.length;l(e+s);for(var o=0;o<s;o++)a[e]=arguments[o],e++;return r(a,e),e}})},4376:function(t,a,e){var s=e(2195);t.exports=Array.isArray||function(t){return"Array"===s(t)}},4527:function(t,a,e){var s=e(3724),i=e(4376),n=TypeError,r=Object.getOwnPropertyDescriptor,l=s&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=l?function(t,a){if(i(t)&&!r(t,"length").writable)throw new n("Cannot set read only .length");return t.length=a}:function(t,a){return t.length=a}},6789:function(t,a,e){e.r(a),e.d(a,{default:function(){return d}});e(8111),e(1701);var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"page03-container10"},[a("div",{staticClass:"page03-container11"},[t._m(0),a("nav",{staticClass:"sidebar-nav"},[a("router-link",{staticClass:"page03-link1",attrs:{to:"/dashboard"}},[a("i",{staticClass:"fas fa-chart-line"}),t._v(" Dashboard ")]),a("router-link",{staticClass:"page03-link2",attrs:{to:"/projects-complaints"}},[a("i",{staticClass:"fas fa-tasks"}),t._v(" Projects & Complaints ")]),a("router-link",{staticClass:"page03-link3",attrs:{to:"/map-forum"}},[a("i",{staticClass:"fas fa-map-marked-alt"}),t._v(" Map & Forum ")]),a("router-link",{staticClass:"page03-link4",attrs:{to:"/data-reports"}},[a("i",{staticClass:"fas fa-database"}),t._v(" Data & Reports ")]),a("router-link",{staticClass:"page03-link-new",attrs:{to:"/budget-allocation"}},[a("i",{staticClass:"fas fa-chart-pie"}),t._v(" Budget Allocation ")]),a("router-link",{staticClass:"page03-link6",attrs:{to:"/"},on:{click:t.handleLogout}},[a("i",{staticClass:"fas fa-sign-out-alt"}),t._v(" Logout ")])],1)]),a("div",{staticClass:"main-content"},[a("div",{staticClass:"data-reports-container"},[a("div",{staticClass:"tabs-container"},[a("button",{class:["tab-button",{active:"data-exchange"===t.activeTab}],on:{click:function(a){t.activeTab="data-exchange"}}},[a("i",{staticClass:"fas fa-exchange-alt"}),t._v(" Data Exchange ")]),a("button",{class:["tab-button",{active:"analytics"===t.activeTab}],on:{click:function(a){t.activeTab="analytics"}}},[a("i",{staticClass:"fas fa-chart-bar"}),t._v(" Analytics ")])]),a("div",{staticClass:"content-area"},["data-exchange"===t.activeTab?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"data-exchange-grid"},[a("div",{staticClass:"upload-section"},[a("div",{staticClass:"upload-area",class:{dragging:t.isDragging},on:{dragover:function(t){t.preventDefault()},drop:function(a){return a.preventDefault(),t.handleFileDrop.apply(null,arguments)}}},[a("i",{staticClass:"fas fa-cloud-upload-alt"}),a("h3",[t._v("Drag & Drop Files Here")]),a("p",[t._v("or")]),a("button",{staticClass:"upload-button",on:{click:t.triggerFileInput}},[t._v(" Browse Files ")]),a("input",{ref:"fileInput",staticClass:"hidden",attrs:{type:"file",multiple:""},on:{change:t.handleFileSelect}})])]),a("div",{staticClass:"filter-section"},[a("div",{staticClass:"filter-group"},[a("label",[t._v("Department")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedDepartment,expression:"selectedDepartment"}],staticClass:"filter-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.selectedDepartment=a.target.multiple?e:e[0]}}},[a("option",{attrs:{value:""}},[t._v("All Departments")]),t._l(t.departments,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])}))],2)]),a("div",{staticClass:"filter-group"},[a("label",[t._v("File Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedFileType,expression:"selectedFileType"}],staticClass:"filter-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.selectedFileType=a.target.multiple?e:e[0]}}},[a("option",{attrs:{value:""}},[t._v("All Types")]),a("option",{attrs:{value:"PDF"}},[t._v("PDF")]),a("option",{attrs:{value:"CSV"}},[t._v("CSV")]),a("option",{attrs:{value:"XLSX"}},[t._v("XLSX")])])]),a("div",{staticClass:"filter-group"},[a("label",[t._v("Date Range")]),a("div",{staticClass:"date-range"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dateRange.start,expression:"dateRange.start"}],staticClass:"date-input",attrs:{type:"date"},domProps:{value:t.dateRange.start},on:{input:function(a){a.target.composing||t.$set(t.dateRange,"start",a.target.value)}}}),a("span",[t._v("to")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dateRange.end,expression:"dateRange.end"}],staticClass:"date-input",attrs:{type:"date"},domProps:{value:t.dateRange.end},on:{input:function(a){a.target.composing||t.$set(t.dateRange,"end",a.target.value)}}})])])])]),a("div",{staticClass:"files-table-container"},[a("table",{staticClass:"data-table"},[t._m(1),a("tbody",t._l(t.filteredFiles,(function(e){return a("tr",{key:e.id},[a("td",[a("i",{class:t.getFileIcon(e.type)}),t._v(" "+t._s(e.name)+" ")]),a("td",[t._v(t._s(e.type))]),a("td",[t._v(t._s(e.department))]),a("td",[t._v(t._s(e.uploadedBy))]),a("td",[t._v(t._s(t.formatDate(e.uploadDate)))]),a("td",[t._v(t._s(e.viewCount))]),a("td",[t._v(t._s(e.downloadCount))]),a("td",[a("button",{staticClass:"action-icon",on:{click:function(a){return t.viewFile(e)}}},[a("i",{staticClass:"fas fa-eye"})]),a("button",{staticClass:"action-icon",on:{click:function(a){return t.downloadFile(e)}}},[a("i",{staticClass:"fas fa-download"})])])])})),0)])])]):t._e(),"analytics"===t.activeTab?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"analytics-grid"},[a("div",{staticClass:"analytics-filters"},[a("div",{staticClass:"filter-group"},[a("label",[t._v("Department")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.analyticsDepartment,expression:"analyticsDepartment"}],staticClass:"filter-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.analyticsDepartment=a.target.multiple?e:e[0]}}},[a("option",{attrs:{value:""}},[t._v("All Departments")]),t._l(t.departments,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])}))],2)]),a("div",{staticClass:"filter-group"},[a("label",[t._v("Time Range")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.timeRange,expression:"timeRange"}],staticClass:"filter-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.timeRange=a.target.multiple?e:e[0]}}},[a("option",{attrs:{value:"7"}},[t._v("Last 7 Days")]),a("option",{attrs:{value:"30"}},[t._v("Last 30 Days")]),a("option",{attrs:{value:"90"}},[t._v("Last 90 Days")]),a("option",{attrs:{value:"custom"}},[t._v("Custom Range")])])]),"custom"===t.timeRange?a("div",{staticClass:"filter-group"},[a("label",[t._v("Custom Range")]),a("div",{staticClass:"date-range"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.customDateRange.start,expression:"customDateRange.start"}],staticClass:"date-input",attrs:{type:"date"},domProps:{value:t.customDateRange.start},on:{input:function(a){a.target.composing||t.$set(t.customDateRange,"start",a.target.value)}}}),a("span",[t._v("to")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.customDateRange.end,expression:"customDateRange.end"}],staticClass:"date-input",attrs:{type:"date"},domProps:{value:t.customDateRange.end},on:{input:function(a){a.target.composing||t.$set(t.customDateRange,"end",a.target.value)}}})])]):t._e()]),t._m(2),a("div",{staticClass:"export-options"},[a("button",{staticClass:"export-button",on:{click:t.generateReport}},[a("i",{staticClass:"fas fa-file-pdf"}),t._v(" Generate Report ")]),a("button",{staticClass:"export-button",on:{click:t.exportToCSV}},[a("i",{staticClass:"fas fa-file-csv"}),t._v(" Export to CSV ")]),a("button",{staticClass:"export-button",on:{click:t.exportToPDF}},[a("i",{staticClass:"fas fa-file-pdf"}),t._v(" Export to PDF ")])])])]):t._e()])])]),t.showPreviewModal?a("div",{staticClass:"modal-overlay"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h3",[t._v(t._s(t.selectedFile?.name))]),a("button",{staticClass:"close-button",on:{click:function(a){t.showPreviewModal=!1}}},[a("i",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"modal-body"},["PDF"===t.selectedFile?.type?a("iframe",{staticClass:"preview-frame",attrs:{src:t.previewUrl}}):a("div",{staticClass:"preview-placeholder"},[a("i",{staticClass:"fas fa-file-alt"}),a("p",[t._v("Preview not available for this file type")])])])])]):t._e()])},i=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"sidebar-header"},[a("span",{staticClass:"page03-text10"},[t._v("</> Civilinc")]),a("div",{staticClass:"page03-container12"},[a("img",{staticClass:"page03-image",attrs:{src:"/Shivayogi-pic.jpg",alt:"Profile"}})]),a("span",{staticClass:"page03-text11"},[t._v("Welcome back,")]),a("span",{staticClass:"page03-text12"},[t._v("Dr.Shivayogi.B.Yali")]),a("span",{staticClass:"user-role"},[t._v("Municipal Commissioner")])])},function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("th",[t._v("File Name")]),a("th",[t._v("Type")]),a("th",[t._v("Department")]),a("th",[t._v("Uploaded By")]),a("th",[t._v("Upload Date")]),a("th",[t._v("Views")]),a("th",[t._v("Downloads")]),a("th",[t._v("Actions")])])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"charts-grid"},[a("div",{staticClass:"chart-container"},[a("h3",[t._v("Complaints by Ward")]),a("canvas",{attrs:{id:"complaintsChart"}})]),a("div",{staticClass:"chart-container"},[a("h3",[t._v("Budget Usage by Department")]),a("canvas",{attrs:{id:"budgetChart"}})]),a("div",{staticClass:"chart-container"},[a("h3",[t._v("Project Delays Over Time")]),a("canvas",{attrs:{id:"delaysChart"}})]),a("div",{staticClass:"chart-container"},[a("h3",[t._v("Work Completion Rate")]),a("canvas",{attrs:{id:"completionChart"}})])])}],n=(e(4114),e(2489),e(8508));n.t1.register(...n.$L);var r={name:"DataReportsPage",data(){return{activeTab:"data-exchange",isDragging:!1,selectedDepartment:"",selectedFileType:"",dateRange:{start:"",end:""},analyticsDepartment:"",timeRange:"7",customDateRange:{start:"",end:""},showPreviewModal:!1,selectedFile:null,previewUrl:"",departments:["Water Supply","Roads & Infrastructure","Waste Management","Public Health","Urban Planning"],files:[{id:1,name:"Water Supply Report Q1",type:"PDF",department:"Water Supply",uploadedBy:"John Doe",uploadDate:"2024-01-15",viewCount:45,downloadCount:12},{id:2,name:"Road Maintenance Data",type:"CSV",department:"Roads & Infrastructure",uploadedBy:"Jane Smith",uploadDate:"2024-01-14",viewCount:78,downloadCount:34}],charts:{}}},computed:{filteredFiles(){return this.files.filter((t=>{const a=!this.selectedDepartment||t.department===this.selectedDepartment,e=!this.selectedFileType||t.type===this.selectedFileType,s=!this.dateRange.start||!this.dateRange.end||t.uploadDate>=this.dateRange.start&&t.uploadDate<=this.dateRange.end;return a&&e&&s}))}},methods:{handleLogout(){localStorage.removeItem("isAuthenticated"),this.$router.push("/sign-in")},triggerFileInput(){this.$refs.fileInput.click()},handleFileSelect(t){const a=t.target.files;this.processFiles(a)},handleFileDrop(t){this.isDragging=!1;const a=t.dataTransfer.files;this.processFiles(a)},processFiles(t){console.log("Processing files:",t)},getFileIcon(t){const a={PDF:"fas fa-file-pdf",CSV:"fas fa-file-csv",XLSX:"fas fa-file-excel"};return a[t]||"fas fa-file"},formatDate(t){return new Date(t).toLocaleDateString()},viewFile(t){console.log("Viewing file:",t)},downloadFile(t){console.log("Downloading file:",t)},initializeCharts(){"analytics"===this.activeTab&&this.$nextTick((()=>{this.initializeComplaintsChart(),this.initializeBudgetChart(),this.initializeDelaysChart(),this.initializeCompletionChart()}))},initializeComplaintsChart(){const t=document.getElementById("complaintsChart");t&&!this.charts.complaints&&(this.charts.complaints=new n.t1(t,{type:"bar",data:{labels:["Ward 1","Ward 2","Ward 3","Ward 4","Ward 5"],datasets:[{label:"Complaints",data:[12,19,3,5,2],backgroundColor:"rgba(54, 162, 235, 0.5)"}]},options:{responsive:!0,maintainAspectRatio:!1}}))},initializeBudgetChart(){const t=document.getElementById("budgetChart");t&&!this.charts.budget&&(this.charts.budget=new n.t1(t,{type:"doughnut",data:{labels:["Water Supply","Roads","Waste Management","Public Health"],datasets:[{data:[30,25,20,25],backgroundColor:["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)"]}]},options:{responsive:!0,maintainAspectRatio:!1}}))},initializeDelaysChart(){const t=document.getElementById("delaysChart");t&&!this.charts.delays&&(this.charts.delays=new n.t1(t,{type:"line",data:{labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Project Delays",data:[5,8,12,7,4,6],borderColor:"rgba(255, 99, 132, 1)",tension:.1}]},options:{responsive:!0,maintainAspectRatio:!1}}))},initializeCompletionChart(){const t=document.getElementById("completionChart");t&&!this.charts.completion&&(this.charts.completion=new n.t1(t,{type:"bar",data:{labels:["Water Supply","Roads","Waste Management","Public Health"],datasets:[{label:"Completion Rate",data:[85,65,90,75],backgroundColor:"rgba(75, 192, 192, 0.5)"}]},options:{responsive:!0,maintainAspectRatio:!1}}))},generateReport(){console.log("Generating report...")},exportToCSV(){console.log("Exporting to CSV...")},exportToPDF(){console.log("Exporting to PDF...")}},watch:{activeTab(t){"analytics"===t&&this.initializeCharts()}},mounted(){"analytics"===this.activeTab&&this.initializeCharts()}},l=r,o=e(1656),c=(0,o.A)(l,s,i,!1,null,"18bde210",null),d=c.exports},6837:function(t){var a=TypeError,e=9007199254740991;t.exports=function(t){if(t>e)throw a("Maximum allowed index exceeded");return t}}}]);
//# sourceMappingURL=789.f99da1f9.js.map