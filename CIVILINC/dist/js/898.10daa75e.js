"use strict";(self["webpackChunkcivilinc"]=self["webpackChunkcivilinc"]||[]).push([[898],{4114:function(s,a,e){var r=e(6518),t=e(8981),i=e(6198),o=e(4527),n=e(6837),l=e(9039),d=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(s){return s instanceof TypeError}},w=d||!c();r({target:"Array",proto:!0,arity:1,forced:w},{push:function(s){var a=t(this),e=i(a),r=arguments.length;n(e+r);for(var l=0;l<r;l++)a[e]=arguments[l],e++;return o(a,e),e}})},4376:function(s,a,e){var r=e(2195);s.exports=Array.isArray||function(s){return"Array"===r(s)}},4527:function(s,a,e){var r=e(3724),t=e(4376),i=TypeError,o=Object.getOwnPropertyDescriptor,n=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();s.exports=n?function(s,a){if(t(s)&&!o(s,"length").writable)throw new i("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a}},5898:function(s,a,e){e.r(a),e.d(a,{default:function(){return d}});var r=function(){var s=this,a=s._self._c;return a("div",{staticClass:"sign-in-wrapper-new"},[a("div",{staticClass:"sign-in-container-new"},[s._m(0),a("div",{staticClass:"sign-in-form-section-new"},[a("router-link",{staticClass:"back-to-home-new",attrs:{to:"/"}},[a("svg",{staticClass:"back-icon-new",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}})]),s._v(" Back to Home ")]),a("div",{staticClass:"sign-in-content-new"},[a("h1",{staticClass:"sign-in-title-new"},[s._v("Welcome Back")]),a("p",{staticClass:"sign-in-subtitle-new"},[s._v("Sign in to continue to Civilinc")]),a("form",{staticClass:"sign-in-form-main-new",on:{submit:function(a){return a.preventDefault(),s.handleSignIn.apply(null,arguments)}}},[a("div",{staticClass:"form-group-new"},[a("label",{attrs:{for:"email-new"}},[s._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:s.email,expression:"email"}],staticClass:"form-input-new",class:{error:s.emailError},attrs:{type:"email",id:"email-new",placeholder:"Enter your email",required:""},domProps:{value:s.email},on:{blur:s.validateEmail,input:function(a){a.target.composing||(s.email=a.target.value)}}}),s.emailError?a("span",{staticClass:"error-message-new"},[s._v(s._s(s.emailError))]):s._e()]),a("div",{staticClass:"form-group-new"},[a("label",{attrs:{for:"password-new"}},[s._v("Password")]),a("div",{staticClass:"password-input-new"},["checkbox"===(s.showPassword?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"form-input-new",class:{error:s.passwordError},attrs:{id:"password-new",placeholder:"Enter your password",required:"",type:"checkbox"},domProps:{checked:Array.isArray(s.password)?s._i(s.password,null)>-1:s.password},on:{blur:s.validatePassword,change:function(a){var e=s.password,r=a.target,t=!!r.checked;if(Array.isArray(e)){var i=null,o=s._i(e,i);r.checked?o<0&&(s.password=e.concat([i])):o>-1&&(s.password=e.slice(0,o).concat(e.slice(o+1)))}else s.password=t}}}):"radio"===(s.showPassword?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"form-input-new",class:{error:s.passwordError},attrs:{id:"password-new",placeholder:"Enter your password",required:"",type:"radio"},domProps:{checked:s._q(s.password,null)},on:{blur:s.validatePassword,change:function(a){s.password=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"form-input-new",class:{error:s.passwordError},attrs:{id:"password-new",placeholder:"Enter your password",required:"",type:s.showPassword?"text":"password"},domProps:{value:s.password},on:{blur:s.validatePassword,input:function(a){a.target.composing||(s.password=a.target.value)}}}),a("button",{staticClass:"toggle-password-new",attrs:{type:"button","aria-label":s.showPassword?"Hide password":"Show password"},on:{click:s.togglePassword}},[a("i",{class:s.showPassword?"fas fa-eye-slash":"fas fa-eye"})])]),s.passwordError?a("span",{staticClass:"error-message-new"},[s._v(s._s(s.passwordError))]):s._e()]),a("div",{staticClass:"form-options-new"},[a("label",{staticClass:"remember-me-new"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.rememberMe,expression:"rememberMe"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.rememberMe)?s._i(s.rememberMe,null)>-1:s.rememberMe},on:{change:function(a){var e=s.rememberMe,r=a.target,t=!!r.checked;if(Array.isArray(e)){var i=null,o=s._i(e,i);r.checked?o<0&&(s.rememberMe=e.concat([i])):o>-1&&(s.rememberMe=e.slice(0,o).concat(e.slice(o+1)))}else s.rememberMe=t}}}),a("span",[s._v("Remember me")])]),a("button",{staticClass:"forgot-password-button-new",attrs:{type:"button"},on:{click:s.handleForgotPassword}},[s._v(" Forgot password? ")])]),a("button",{staticClass:"sign-in-button-submit-new",class:{loading:s.isLoading},attrs:{type:"submit",disabled:!s.isFormValid||s.isLoading}},[s.isLoading?a("span",[s._v("Signing in...")]):a("span",[s._v("Sign In")])])]),s._m(1),a("div",{staticClass:"social-login-new"},[a("button",{staticClass:"social-button-new google-new",attrs:{disabled:s.isLoading},on:{click:s.handleGoogleSignIn}},[a("svg",{staticClass:"social-icon-new",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}}),a("path",{attrs:{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}}),a("path",{attrs:{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}}),a("path",{attrs:{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}})]),s._v(" Google ")]),a("button",{staticClass:"social-button-new facebook-new",attrs:{disabled:s.isLoading},on:{click:s.handleFacebookSignIn}},[a("svg",{staticClass:"social-icon-new",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"}})]),s._v(" Facebook ")])]),a("div",{staticClass:"signup-text-new"},[s._v(" Don't have an account? "),a("router-link",{staticClass:"signup-link-new",attrs:{to:"/sign-up"}},[s._v("Sign Up")])],1)])],1)])])},t=[function(){var s=this,a=s._self._c;return a("div",{staticClass:"sign-in-image-section-new"},[a("div",{staticClass:"brand-section-new"},[a("span",{staticClass:"brand-text-new"},[a("span",{staticClass:"code-brackets-new"},[s._v("</>")]),s._v(" Civilinc")])]),a("img",{staticClass:"background-image-new",attrs:{src:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",alt:"Smart City"}}),a("div",{staticClass:"image-overlay-new"}),a("div",{staticClass:"image-text-new"},[a("h2",[s._v("Building Smarter Cities Together")]),a("p",[s._v("Access your dashboard to manage projects, complaints, and data.")])])])},function(){var s=this,a=s._self._c;return a("div",{staticClass:"divider-new"},[a("span",[s._v("or continue with")])])}],i=(e(4114),{name:"SignIn",data(){return{email:"",password:"",rememberMe:!1,showPassword:!1,isLoading:!1,emailError:"",passwordError:""}},computed:{isFormValid(){return this.email&&this.password&&!this.emailError&&!this.passwordError}},methods:{validateEmail(){const s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;this.email?s.test(this.email)?this.emailError="":this.emailError="Please enter a valid email address":this.emailError="Email is required"},validatePassword(){this.password?this.password.length<6?this.passwordError="Password must be at least 6 characters":this.passwordError="":this.passwordError="Password is required"},togglePassword(){this.showPassword=!this.showPassword},async handleSignIn(){if(this.validateEmail(),this.validatePassword(),this.isFormValid){this.isLoading=!0;try{const{default:s}=await Promise.resolve().then(e.bind(e,4300)),a=new URLSearchParams;a.append("username",this.email),a.append("password",this.password);const r=await s.post("/auth/login",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});r&&r.data&&r.data.access_token?(localStorage.setItem("isAuthenticated","true"),localStorage.setItem("token",r.data.access_token),this.$router.push("/dashboard")):(this.emailError="Invalid email or password",this.passwordError="Invalid email or password")}catch(s){this.emailError="Invalid email or password",this.passwordError="Invalid email or password"}this.isLoading=!1}},handleGoogleSignIn(){console.log("Google sign-in clicked")},handleFacebookSignIn(){console.log("Facebook sign-in clicked")},handleForgotPassword(){console.log("Forgot password clicked")}}}),o=i,n=e(1656),l=(0,n.A)(o,r,t,!1,null,"a60d8c62",null),d=l.exports},6837:function(s){var a=TypeError,e=9007199254740991;s.exports=function(s){if(s>e)throw a("Maximum allowed index exceeded");return s}}}]);
//# sourceMappingURL=898.10daa75e.js.map